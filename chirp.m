% chirp signal generation
% https://uk.mathworks.com/help/thingspeak/remove-dc-component-and-display-results.html

hchirp = dsp.Chirp( ...
    'InitialFrequency', 0,...
    'TargetFrequency', 100, ...
    'TargetTime', 10, ...
    'SweepTime', 100, ...
    'SampleRate', 20000, ...
    'SamplesPerFrame', 100000);

chirpData = (step(hchirp))';
% evenFlag = mod(minute(datetime('now')),2); % do not need this part
% if evenFlag
%     chirpData = fliplr(chirpData);
% end
plot(chirpData);
audiowrite("Chirp.wav", chirpData, 20000, "Title", "Chirp", "Artist", "PeterS", "Comment", "Generated by MatLab");